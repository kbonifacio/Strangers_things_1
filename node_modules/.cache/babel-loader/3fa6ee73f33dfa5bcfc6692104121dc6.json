{"ast":null,"code":"var _jsxFileName = \"/Users/kriseldabonifacio/course_work/Strangers_things/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Routes, Route, Link, NavLink, BrowserRouter as Router, useNavigate, useParams, BrowserRouter } from 'react-router-dom';\nimport './Posts.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseURL = 'https://strangers-things.herokuapp.com/api';\nconst cohort = '/2108-CSE-RM-WEB-PT';\nconst postURL = `${baseURL}${cohort}/posts`;\nconst deletePostURL = `${baseURL}${cohort}/posts/${token}`;\n\nconst deletePost = () => {\n  fetch(`${deletePostURL}`, {\n    method: \"DELETE\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(console.error);\n};\n\nconst Posts = () => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n\n  const handleDelete = async post_id => {\n    await deletePost(token, post_id);\n    const postResult = await fetchPosts();\n    setPosts(postResult);\n  };\n\n  const fetchPosts = async () => {\n    try {\n      const response = await fetch(postURL);\n      const result = await response.json();\n      setPosts(result.data.posts);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  useEffect(fetchPosts, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: posts.map(post => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postTitle\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Seller: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 26\n            }, this), \" \", post.author.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), \" \", /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/message\",\n            children: \"Send Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Item Description: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              children: post.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Price \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 48\n              }, this), post.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"delivery\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Delivery \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 29\n              }, this), \" \", post.willDeliver ? 'available' : 'not available']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_s(Posts, \"bG8V4duoIfO0BEPgauWMVT5Qvyw=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"sources":["/Users/kriseldabonifacio/course_work/Strangers_things/src/components/Posts.js"],"names":["React","useState","useEffect","ReactDOM","Routes","Route","Link","NavLink","BrowserRouter","Router","useNavigate","useParams","baseURL","cohort","postURL","deletePostURL","token","deletePost","fetch","method","headers","then","response","json","result","console","log","catch","error","Posts","posts","setPosts","handleDelete","post_id","postResult","fetchPosts","data","map","post","title","author","username","description","price","willDeliver","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Routes, Route, Link, NavLink, BrowserRouter as Router, useNavigate, useParams, BrowserRouter } from 'react-router-dom';\nimport './Posts.css'\n\n\n\nconst baseURL = 'https://strangers-things.herokuapp.com/api'\nconst cohort = '/2108-CSE-RM-WEB-PT'\nconst postURL = `${baseURL}${cohort}/posts`\nconst deletePostURL = `${baseURL}${cohort}/posts/${token}`\n\nconst deletePost = () => {\n  fetch(`${deletePostURL}`, {\n  method: \"DELETE\",\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  }\n}).then(response => response.json())\n  .then(result => {\n    console.log(result);\n  })\n  .catch(console.error);\n}\n\nconst Posts = () => {\n  const [posts, setPosts] = useState([])\n  \n  const handleDelete = async (post_id) => {\n    await deletePost(token, post_id)\n    const postResult = await fetchPosts()\n    setPosts(postResult)\n\n  }\n \n  const fetchPosts = async () => {\n    try {\n      const response = await fetch(postURL)\n      const result = await response.json()\n      setPosts(result.data.posts)\n\n    } catch (error) {\n      throw error\n    }\n  }\n  useEffect (\n      fetchPosts, []\n  )\n  return <>\n    \n    {\n      posts.map((post) => {\n        return (\n            <div key={post._id} className='post'>\n                <div className='description'>\n                    <div className='postTitle'><b>{post.title}</b></div>   \n                    <div><b>Seller: </b> {post.author.username}</div> <NavLink to='/message'>Send Message</NavLink>\n                    <div><b>Item Description: </b><i>{post.description}</i></div>\n                </div>\n                <div>\n                    <div>\n                        <div className='price'><b>Price </b>{post.price}</div>\n                    </div>\n                    <div>\n                        <div className='delivery'>\n                            <b>Delivery </b> {post.willDeliver ? 'available' : 'not available'}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n      })\n    }\n  </>\n}\nexport default Posts;"]},"metadata":{},"sourceType":"module"}