{"ast":null,"code":"var _jsxFileName = \"/Users/kriseldabonifacio/course_work/Strangers_things/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Routes, Route, Link, NavLink, BrowserRouter as Router, useNavigate, useParams, BrowserRouter } from 'react-router-dom';\nimport './Posts.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseURL = 'https://strangers-things.herokuapp.com/api';\nconst cohort = '/2108-CSE-RM-WEB-PT';\nconst postURL = `${baseURL}${cohort}/posts`;\nconst [posts, setPosts] = useState([]);\n\nconst Posts = async token => {\n  _s();\n\n  const deletePostURL = `${baseURL}${cohort}/posts/${token}`; // const deletePost = (token) => {\n  //   fetch(`${deletePostURL}`, {\n  //   method: \"DELETE\",\n  //   headers: {\n  //     'Content-Type': 'application/json',\n  //     'Authorization': `Bearer ${token}`\n  //   }\n  // }).then(response => response.json())\n  //   .then(result => {\n  //     console.log(result);\n  //   })\n  //   .catch(console.error);\n  // }\n\n  const deletePost = async (token, post_id) => {\n    try {\n      const response = await fetch(deletePostURL, {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const result = await response.json();\n      console.log(result);\n    } catch (error) {}\n  };\n\n  const handleDelete = async post_id => {\n    await deletePost(token, post_id);\n    const postResult = await fetchPosts();\n    setPosts(postResult);\n  };\n\n  const fetchPosts = async () => {\n    try {\n      const response = await fetch(postURL);\n      const result = await response.json();\n      setPosts(result.data.posts);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  useEffect(fetchPosts, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: posts.map(post => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postTitle\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Seller: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 26\n            }, this), \" \", post.author.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/message\",\n            children: \"Send Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Item Description: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              children: post.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Price \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 48\n              }, this), post.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"delivery\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Delivery \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 29\n              }, this), \" \", post.willDeliver ? 'available' : 'not available']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_s(Posts, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"sources":["/Users/kriseldabonifacio/course_work/Strangers_things/src/components/Posts.js"],"names":["React","useState","useEffect","ReactDOM","Routes","Route","Link","NavLink","BrowserRouter","Router","useNavigate","useParams","baseURL","cohort","postURL","posts","setPosts","Posts","token","deletePostURL","deletePost","post_id","response","fetch","method","headers","result","json","console","log","error","handleDelete","postResult","fetchPosts","data","map","post","title","author","username","description","price","willDeliver","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Routes, Route, Link, NavLink, BrowserRouter as Router, useNavigate, useParams, BrowserRouter } from 'react-router-dom';\nimport './Posts.css'\n\n\n  const baseURL = 'https://strangers-things.herokuapp.com/api'\n  const cohort = '/2108-CSE-RM-WEB-PT'\n  const postURL = `${baseURL}${cohort}/posts`\nconst [posts, setPosts] = useState([])\n\n\n\nconst Posts = async (token) => {\n  \n  \n  \n  const deletePostURL = `${baseURL}${cohort}/posts/${token}`\n\n  // const deletePost = (token) => {\n  //   fetch(`${deletePostURL}`, {\n  //   method: \"DELETE\",\n  //   headers: {\n  //     'Content-Type': 'application/json',\n  //     'Authorization': `Bearer ${token}`\n  //   }\n  // }).then(response => response.json())\n  //   .then(result => {\n  //     console.log(result);\n  //   })\n  //   .catch(console.error);\n  // }\n  const deletePost = async (token, post_id) => {\n    try {\n      const response = await fetch(deletePostURL, {\n          method: \"DELETE\",\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        })\n        const result = await response.json()\n        console.log(result)\n    } catch (error) {\n      \n    }\n  }\n\n    const handleDelete = async (post_id) => {\n      await deletePost(token, post_id)\n      const postResult = await fetchPosts()\n      setPosts(postResult)\n\n  }\n \n  const fetchPosts = async () => {\n    try {\n      const response = await fetch(postURL)\n      const result = await response.json()\n      setPosts(result.data.posts)\n\n    } catch (error) {\n      throw error\n    }\n  }\n  useEffect (\n      fetchPosts, []\n  )\n  return <>\n    \n    {\n      posts.map((post) => {\n        return (\n            <div key={post._id} className='post'>\n                <div className='description'>\n                    <div className='postTitle'><b>{post.title}</b></div>   \n                    <div><b>Seller: </b> {post.author.username}</div>\n                    <NavLink to='/message'>Send Message</NavLink>\n                    <div><b>Item Description: </b><i>{post.description}</i></div>\n                </div>\n                <div>\n                    <div>\n                        <div className='price'><b>Price </b>{post.price}</div>\n                    </div>\n                    <div>\n                        <div className='delivery'>\n                            <b>Delivery </b> {post.willDeliver ? 'available' : 'not available'}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n      })\n    }\n  </>\n}\nexport default Posts;"]},"metadata":{},"sourceType":"module"}