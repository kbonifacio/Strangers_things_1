{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import'./CurrentUserPosts.css';import{DeletePost}from'.';import{EditPost}from'.';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CurrentUserPosts=function CurrentUserPosts(_ref){var currentUser=_ref.currentUser,token=_ref.token,posts=_ref.posts,setPosts=_ref.setPosts,currentUserPosts=_ref.currentUserPosts,setCurrentUserPosts=_ref.setCurrentUserPosts;var fetchUserData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/users/me',{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;setCurrentUserPosts(result.data.posts);_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchUserData(){return _ref2.apply(this,arguments);};}();useEffect(fetchUserData,[]);return/*#__PURE__*/_jsx(_Fragment,{children:currentUserPosts&&currentUserPosts.map(function(post){if(post.active===true){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"currentUserPostTitle\",children:[post.title,\" (\",post.price,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"currentUserPostDescription\",children:[\"Item Description: \",post.description]}),/*#__PURE__*/_jsx(\"div\",{className:\"postButtons\",children:/*#__PURE__*/_jsx(DeletePost,{token:token,currentUser:currentUser,posts:posts,setPosts:setPosts,post_id:post._id,currentUserPosts:currentUserPosts,setCurrentUserPosts:setCurrentUserPosts})})]});}})});};export default CurrentUserPosts;","map":{"version":3,"sources":["/Users/kriseldabonifacio/course_work/Strangers_things/src/components/CurrentUserPosts.js"],"names":["React","useEffect","useNavigate","DeletePost","EditPost","CurrentUserPosts","currentUser","token","posts","setPosts","currentUserPosts","setCurrentUserPosts","fetchUserData","fetch","headers","response","json","result","data","map","post","active","title","price","description","_id"],"mappings":"qVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,wBAAP,CACA,OAASC,UAAT,KAA2B,GAA3B,CACA,OAASC,QAAT,KAAyB,GAAzB,C,6IAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAAkF,IAAhFC,CAAAA,WAAgF,MAAhFA,WAAgF,CAAnEC,KAAmE,MAAnEA,KAAmE,CAA5DC,KAA4D,MAA5DA,KAA4D,CAArDC,QAAqD,MAArDA,QAAqD,CAA3CC,gBAA2C,MAA3CA,gBAA2C,CAAzBC,mBAAyB,MAAzBA,mBAAyB,CACvG,GAAMC,CAAAA,aAAa,2FAAG,6LAESC,CAAAA,KAAK,CAAE,wEAAF,CAA4E,CACtGC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BP,KAA3B,CAFK,CAD6F,CAA5E,CAFd,QAERQ,QAFQ,qCAQOA,CAAAA,QAAQ,CAACC,IAAT,EARP,QAQRC,MARQ,eASdN,mBAAmB,CAACM,MAAM,CAACC,IAAP,CAAYV,KAAb,CAAnB,CATc,sJAAH,kBAAbI,CAAAA,aAAa,2CAAnB,CAcEX,SAAS,CACLW,aADK,CACU,EADV,CAAT,CAGF,mBAAO,yBAECF,gBAAgB,EAAIA,gBAAgB,CAACS,GAAjB,CAAqB,SAACC,IAAD,CAAS,CAC9C,GAAIA,IAAI,CAACC,MAAL,GAAgB,IAApB,CAA0B,CAC1B,mBAAQ,wCACR,aAAK,SAAS,CAAC,sBAAf,WAAuCD,IAAI,CAACE,KAA5C,MAAqDF,IAAI,CAACG,KAA1D,OADQ,cAER,aAAK,SAAS,CAAC,4BAAf,gCAA+DH,IAAI,CAACI,WAApE,GAFQ,cAGR,YAAK,SAAS,CAAC,aAAf,uBAEI,KAAC,UAAD,EAAY,KAAK,CAAEjB,KAAnB,CAA0B,WAAW,CAAED,WAAvC,CAAoD,KAAK,CAAEE,KAA3D,CAAkE,QAAQ,CAAEC,QAA5E,CAAsF,OAAO,CAAEW,IAAI,CAACK,GAApG,CAAyG,gBAAgB,CAAEf,gBAA3H,CAA6I,mBAAmB,CAAEC,mBAAlK,EAFJ,EAHQ,GAAR,CAQC,CACJ,CAXmB,CAFrB,EAAP,CAiBC,CAnCL,CAqCA,cAAeN,CAAAA,gBAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './CurrentUserPosts.css';\nimport { DeletePost } from '.';\nimport { EditPost } from '.';\n\nconst CurrentUserPosts = ({currentUser, token, posts, setPosts, currentUserPosts, setCurrentUserPosts}) => {\n    const fetchUserData = async () => {\n        try {\n            const response = await fetch ('https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/users/me', {\n              headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}`\n              }\n          })\n            const result = await response.json()\n            setCurrentUserPosts(result.data.posts)\n        } catch (error) {\n            \n        }\n    }  \n      useEffect (\n          fetchUserData, []\n      )\n    return <>\n        {\n            currentUserPosts && currentUserPosts.map((post)=> {\n                if (post.active === true) {\n                return  <>\n                <div className='currentUserPostTitle'>{post.title} ({post.price})</div>\n                <div className='currentUserPostDescription'>Item Description: {post.description}</div>\n                <div className='postButtons'>\n                    {/* <EditPost token={token} currentUser={currentUser} posts={posts} setPosts={setPosts} post_id={post._id} currentUserPosts={currentUserPosts} setCurrentUserPosts={setCurrentUserPosts}/> */}\n                    <DeletePost token={token} currentUser={currentUser} posts={posts} setPosts={setPosts} post_id={post._id} currentUserPosts={currentUserPosts} setCurrentUserPosts={setCurrentUserPosts}/>\n                </div>\n                </>\n                }\n            })\n        } \n        \n    </>   \n    }\n    \nexport default CurrentUserPosts;"]},"metadata":{},"sourceType":"module"}