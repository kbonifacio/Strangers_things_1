{"ast":null,"code":"import _objectSpread from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useParams,useNavigate}from'react-router';import'./SendMessage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SendMessage=function SendMessage(_ref){var token=_ref.token,currentUser=_ref.currentUser,posts=_ref.posts,post_id=_ref.post_id;var blankMessage={Content:''};var _useState=useState(blankMessage),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useParams=useParams(),postId=_useParams.postId;var navigate=useNavigate();var handleSubmitMessage=function handleSubmitMessage(event){event.preventDefault();fetch(\"https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/posts/\".concat(postId,\"/messages\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({message:message})}).then(function(response){return response.json();}).then(function(result){console.log('message result',result);}).finally(navigate('/posts')).catch(console.error);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ask the Seller.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formContainer\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitMessage,children:[/*#__PURE__*/_jsx(\"input\",{className:\"messageField\",value:message.content,placeholder:\"Type message here\",onChange:function onChange(event){setMessage(_objectSpread(_objectSpread({},message),{},{content:event.target.value}));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"button\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Message\"}),\" \"]})]})})]});};export default SendMessage;","map":{"version":3,"sources":["/Users/kriseldabonifacio/course_work/Strangers_things/src/components/SendMessage.js"],"names":["React","useState","useParams","useNavigate","SendMessage","token","currentUser","posts","post_id","blankMessage","Content","message","setMessage","postId","navigate","handleSubmitMessage","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","result","console","log","finally","catch","error","content","target","value"],"mappings":"uVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,cAAvC,CACA,MAAO,mBAAP,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA0C,IAAxCC,CAAAA,KAAwC,MAAxCA,KAAwC,CAAjCC,WAAiC,MAAjCA,WAAiC,CAApBC,KAAoB,MAApBA,KAAoB,CAAbC,OAAa,MAAbA,OAAa,CAC1D,GAAMC,CAAAA,YAAY,CAAG,CAACC,OAAO,CAAE,EAAV,CAArB,CACA,cAA8BT,QAAQ,CAACQ,YAAD,CAAtC,wCAAOE,OAAP,eAAgBC,UAAhB,eACA,eAAiBV,SAAS,EAA1B,CAAOW,MAAP,YAAOA,MAAP,CACA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACnCA,KAAK,CAACC,cAAN,GACAC,KAAK,+EAAwEL,MAAxE,cAA2F,CAC5FM,MAAM,CAAE,MADoF,CAE5FC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2Bf,KAA3B,CAFK,CAFmF,CAM5FgB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBZ,OAAO,CAAEA,OADQ,CAAf,CANsF,CAA3F,CAAL,CASOa,IATP,CASY,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EATpB,EAUKF,IAVL,CAUU,SAAAG,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA6BF,MAA7B,EACH,CAZL,EAYOG,OAZP,CAYehB,QAAQ,CAAC,QAAD,CAZvB,EAaKiB,KAbL,CAaWH,OAAO,CAACI,KAbnB,EAcS,CAhBb,CAiBC,mBAAO,wCACR,uCADQ,cAER,YAAK,SAAS,CAAC,eAAf,uBACI,cAAM,QAAQ,CAAEjB,mBAAhB,wBACI,cAAO,SAAS,CAAC,cAAjB,CAAgC,KAAK,CAAEJ,OAAO,CAACsB,OAA/C,CAAwD,WAAW,CAAC,mBAApE,CAAwF,QAAQ,CAAE,kBAACjB,KAAD,CAAS,CACvGJ,UAAU,gCAAKD,OAAL,MAAcsB,OAAO,CAAEjB,KAAK,CAACkB,MAAN,CAAaC,KAApC,GAAV,CACH,CAFD,EADJ,cAII,aAAK,SAAS,CAAC,QAAf,wBAAwB,eAAQ,IAAI,CAAC,QAAb,0BAAxB,OAJJ,GADJ,EAFQ,GAAP,CAWJ,CAlCD,CAmCA,cAAe/B,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router';\nimport './SendMessage.css';\n\nconst SendMessage = ({token, currentUser, posts, post_id}) => {\n    const blankMessage = {Content: ''}\n    const [message, setMessage] = useState(blankMessage)\n    const {postId} = useParams();\n    const navigate = useNavigate()\n\n    const handleSubmitMessage = (event) => {\n        event.preventDefault()\n        fetch(`https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/posts/${postId}/messages`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                message: message\n            })\n            }).then(response => response.json())\n            .then(result => {\n                console.log('message result',result);\n            }).finally(navigate('/posts'))\n            .catch(console.error);\n                }\n     return <>\n    <h1>Ask the Seller.</h1>\n    <div className='formContainer'>\n        <form onSubmit={handleSubmitMessage}>\n            <input className='messageField' value={message.content} placeholder='Type message here' onChange={(event)=>{\n                setMessage({...message, content: event.target.value})\n            }}></input>\n            <div className='button'><button type='submit'>Send Message</button> </div>\n        </form>\n    </div>\n</>\n}\nexport default SendMessage;\n"]},"metadata":{},"sourceType":"module"}