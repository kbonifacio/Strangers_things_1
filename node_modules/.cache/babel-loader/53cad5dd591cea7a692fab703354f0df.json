{"ast":null,"code":"import _objectSpread from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Navigate,useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddPost=function AddPost(_ref){var token=_ref.token,currentUser=_ref.currentUser;var blankPost={title:'',description:'',price:''};var _useState=useState(blankPost),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var navigate=useNavigate();console.log('current User',currentUser);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();fetch('https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/posts',{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:post})}).then(function(response){return response.json();}).then(function(result){console.log(result);}).finally(navigate('/posts')).catch(console.error);case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create a new Thingy Listing.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{value:post.title,placeholder:\"Post Title\",onChange:function onChange(event){setPost(_objectSpread(_objectSpread({},post),{},{title:event.target.value}));}}),\"Description\",/*#__PURE__*/_jsx(\"input\",{value:post.description,placeholder:\"Item Description\",onChange:function onChange(event){setPost(_objectSpread(_objectSpread({},post),{},{description:event.target.value}));}}),\"Price\",/*#__PURE__*/_jsx(\"input\",{value:post.price,placeholder:\"Item price\",onChange:function onChange(event){setPost(_objectSpread(_objectSpread({},post),{},{price:event.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]});};export default AddPost;","map":{"version":3,"sources":["/Users/kriseldabonifacio/course_work/Strangers_things/src/components/NewPost.js"],"names":["React","useState","Navigate","useNavigate","AddPost","token","currentUser","blankPost","title","description","price","post","setPost","navigate","console","log","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","result","finally","catch","error","target","value"],"mappings":"4qBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,cAAtC,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAA0B,IAAxBC,CAAAA,KAAwB,MAAxBA,KAAwB,CAAjBC,WAAiB,MAAjBA,WAAiB,CACtC,GAAMC,CAAAA,SAAS,CAAG,CAACC,KAAK,CAAE,EAAR,CAAYC,WAAW,CAAE,EAAzB,CAA6BC,KAAK,CAAE,EAApC,CAAlB,CACA,cAAwBT,QAAQ,CAACM,SAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACAW,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BT,WAA5B,EAEJ,GAAMU,CAAAA,YAAY,2FAAG,iBAAOC,KAAP,kHACbA,KAAK,CAACC,cAAN,GACAC,KAAK,CAAC,qEAAD,CAAwE,CACzEC,MAAM,CAAE,MADiE,CAEzEC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BhB,KAA3B,CAFK,CAFgE,CAMzEiB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBb,IAAI,CAAEA,IADW,CAAf,CANmE,CAAxE,CAAL,CASOc,IATP,CASY,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EATpB,EAUKF,IAVL,CAUU,SAAAG,MAAM,CAAI,CACZd,OAAO,CAACC,GAAR,CAAYa,MAAZ,EAEH,CAbL,EAaOC,OAbP,CAaehB,QAAQ,CAAC,QAAD,CAbvB,EAcKiB,KAdL,CAcWhB,OAAO,CAACiB,KAdnB,EAFa,sDAAH,kBAAZf,CAAAA,YAAY,6CAAlB,CAkBA,mBAAO,wCACH,oDADG,cAEH,cAAM,QAAQ,CAAEA,YAAhB,iCACU,cAAO,KAAK,CAAEL,IAAI,CAACH,KAAnB,CAA0B,WAAW,CAAC,YAAtC,CAAmD,QAAQ,CAAE,kBAACS,KAAD,CAAS,CACxEL,OAAO,gCAAKD,IAAL,MAAWH,KAAK,CAAES,KAAK,CAACe,MAAN,CAAaC,KAA/B,GAAP,CACH,CAFK,EADV,4BAIe,cAAO,KAAK,CAAEtB,IAAI,CAACF,WAAnB,CAAgC,WAAW,CAAC,kBAA5C,CAA+D,QAAQ,CAAE,kBAACQ,KAAD,CAAS,CACzFL,OAAO,gCAAKD,IAAL,MAAWF,WAAW,CAAEQ,KAAK,CAACe,MAAN,CAAaC,KAArC,GAAP,CACH,CAFU,EAJf,sBAOS,cAAO,KAAK,CAAEtB,IAAI,CAACD,KAAnB,CAA0B,WAAW,CAAC,YAAtC,CAAmD,QAAQ,CAAE,kBAACO,KAAD,CAAS,CACvEL,OAAO,gCAAKD,IAAL,MAAWD,KAAK,CAAEO,KAAK,CAACe,MAAN,CAAaC,KAA/B,GAAP,CACH,CAFI,EAPT,cAUI,eAAQ,IAAI,CAAC,QAAb,oBAVJ,GAFG,GAAP,CAeC,CAvCD,CAwCA,cAAe7B,CAAAA,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Navigate, useNavigate } from 'react-router';\n\nconst AddPost = ({token, currentUser}) => {\n    const blankPost = {title: '', description: '', price: ''}\n    const [post, setPost] = useState(blankPost)\n    const navigate = useNavigate()\n    console.log('current User', currentUser)\n\nconst handleSubmit = async (event) => {\n        event.preventDefault()\n        fetch('https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/posts', {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                post: post\n            })\n            }).then(response => response.json())\n            .then(result => {\n                console.log(result)\n                \n            }).finally(navigate('/posts'))\n            .catch(console.error);\n} \nreturn <>\n    <h1>Create a new Thingy Listing.</h1>\n    <form onSubmit={handleSubmit}>\n        Title:<input value={post.title} placeholder='Post Title' onChange={(event)=>{\n            setPost({...post, title: event.target.value})\n        }}></input>\n        Description<input value={post.description} placeholder='Item Description' onChange={(event)=>{\n            setPost({...post, description: event.target.value})\n        }}></input>\n        Price<input value={post.price} placeholder='Item price' onChange={(event)=>{\n            setPost({...post, price: event.target.value})\n        }}></input>\n        <button type='submit'>Submit</button>\n    </form>\n</>\n}\nexport default AddPost;"]},"metadata":{},"sourceType":"module"}