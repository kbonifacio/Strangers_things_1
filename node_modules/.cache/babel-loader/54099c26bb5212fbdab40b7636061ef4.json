{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kriseldabonifacio/course_work/Strangers_things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import'./CurrentUserPosts.css';import'./SentMessage.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var MessagesRecieved=function MessagesRecieved(_ref){var posts=_ref.posts,isLoggedIn=_ref.isLoggedIn,currentUser=_ref.currentUser,token=_ref.token,currentUserMessages=_ref.currentUserMessages,setCurrentUserMessages=_ref.setCurrentUserMessages;var fetchUserData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result,sender;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/users/me',{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;setCurrentUserMessages(result.data.messages);sender=result.data.messages.fromUser.username;_context.next=13;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchUserData(){return _ref2.apply(this,arguments);};}();useEffect(fetchUserData,[]);return/*#__PURE__*/_jsx(_Fragment,{children:currentUserMessages&&currentUserMessages.map(function(message){if(message.fromUser.username!==currentUser){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sentMessage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sentPostTitle\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Post Title: \",message.post.title,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fromUser\",children:[\"From: \",message.fromUser.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sentPostContent\",children:[\"Message: \",message.content]})]})});}})});};export default MessagesRecieved;","map":{"version":3,"sources":["/Users/kriseldabonifacio/course_work/Strangers_things/src/components/ReceivedMessage.js"],"names":["React","useEffect","MessagesRecieved","posts","isLoggedIn","currentUser","token","currentUserMessages","setCurrentUserMessages","fetchUserData","fetch","headers","response","json","result","data","messages","sender","fromUser","username","map","message","post","title","content"],"mappings":"qVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,wBAAP,CACA,MAAO,mBAAP,C,6IAGA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAA0F,IAAxFC,CAAAA,KAAwF,MAAxFA,KAAwF,CAAjFC,UAAiF,MAAjFA,UAAiF,CAArEC,WAAqE,MAArEA,WAAqE,CAAxDC,KAAwD,MAAxDA,KAAwD,CAAjDC,mBAAiD,MAAjDA,mBAAiD,CAA5BC,sBAA4B,MAA5BA,sBAA4B,CAC/G,GAAMC,CAAAA,aAAa,2FAAG,oMAESC,CAAAA,KAAK,CAAE,wEAAF,CAA4E,CACtGC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BL,KAA3B,CAFK,CAD6F,CAA5E,CAFd,QAERM,QAFQ,qCAQOA,CAAAA,QAAQ,CAACC,IAAT,EARP,QAQRC,MARQ,eASdN,sBAAsB,CAACM,MAAM,CAACC,IAAP,CAAYC,QAAb,CAAtB,CACMC,MAVQ,CAUCH,MAAM,CAACC,IAAP,CAAYC,QAAZ,CAAqBE,QAArB,CAA8BC,QAV/B,uJAAH,kBAAbV,CAAAA,aAAa,2CAAnB,CAeER,SAAS,CACLQ,aADK,CACU,EADV,CAAT,CAGF,mBAAO,yBAECF,mBAAmB,EAAIA,mBAAmB,CAACa,GAApB,CAAwB,SAACC,OAAD,CAAY,CACvD,GAAGA,OAAO,CAACH,QAAR,CAAiBC,QAAjB,GAA8Bd,WAAjC,CAA8C,CAC9C,mBAAQ,sCACR,aAAK,SAAS,CAAC,aAAf,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,sCAAkBgB,OAAO,CAACC,IAAR,CAAaC,KAA/B,OADJ,cAEI,aAAK,SAAS,CAAC,UAAf,oBAAiCF,OAAO,CAACH,QAAR,CAAiBC,QAAlD,GAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,iBAAf,uBAA2CE,OAAO,CAACG,OAAnD,GALJ,GADQ,EAAR,CASC,CACJ,CAZsB,CAFxB,EAAP,CAiBH,CApCD,CAsCA,cAAetB,CAAAA,gBAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport './CurrentUserPosts.css';\nimport './SentMessage.css'\n\n\nconst MessagesRecieved = ({posts, isLoggedIn, currentUser, token, currentUserMessages, setCurrentUserMessages}) => {\n    const fetchUserData = async () => {\n        try {\n            const response = await fetch ('https://strangers-things.herokuapp.com/api/2108-CSE-RM-WEB-PT/users/me', {\n              headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}`\n              }\n          })\n            const result = await response.json()\n            setCurrentUserMessages(result.data.messages)\n            const sender = result.data.messages.fromUser.username\n\n        } catch (error) {   \n            }\n        }  \n      useEffect (\n          fetchUserData, []\n      )\n    return <>\n        {   \n            currentUserMessages && currentUserMessages.map((message)=> {\n                if(message.fromUser.username !== currentUser) {\n                return  <>\n                <div className='sentMessage'>\n                    <div className='sentPostTitle'>\n                        <div>Post Title: {message.post.title} </div>\n                        <div className='fromUser'>From: {message.fromUser.username}</div>\n                    </div>\n                    <div className='sentPostContent'>Message: {message.content}</div>\n                </div>\n                </>\n                }\n            })\n        }   \n    </>   \n}\n\nexport default MessagesRecieved;"]},"metadata":{},"sourceType":"module"}